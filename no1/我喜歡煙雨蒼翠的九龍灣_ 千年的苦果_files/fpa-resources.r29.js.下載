// ad DFP
document.write( '<scr' + 'ipt async="async" src="https://www.googletagservices.com/tag/js/gpt.js"></scr' + 'ipt>' );
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];

// setting ad
if (!window.NIFTY) { window.NIFTY = {}; }
if (!window.NIFTY.cocolog) { window.NIFTY.cocolog = {}; }
if (!window.NIFTY.cocolog.ad) { window.NIFTY.cocolog.ad = {}; }
if (!window.NIFTY.cocolog.pc) { window.NIFTY.cocolog.pc = {}; }

// settings for free plan ad.
var CocologFPA = {
  "domHeader": "<script type='text/javascript' src='/.shared-pleasy/nifty_managed/js/switching_adv.js?ad=header&201910'></script>",
  "domContent": "<script type='text/javascript' src='/.shared-pleasy/nifty_managed/js/switching_adv.js?ad=content&201910'></script>",
  "domEntryBottom": "<script type='text/javascript' src='/.shared-pleasy/nifty_managed/js/switching_adv.js?ad=middle&201910'></script>",
  "domFooter": "<script type='text/javascript' src='/.shared-pleasy/nifty_managed/js/switching_adv.js?ad=footer&201911'></script>",
  "viewUrl": "http://www.nifty.com/navi/present/",
  "bDays": 1,
  "bDaysHeader": 0,
  "bDaysContent": 30,
  "bDaysEntryBottom": 0,
  "bDaysFooter": 0
};

// define ad
if (!window.NIFTY.cocolog.ad.define) { 
window.NIFTY.cocolog.ad.define = {
    not_afc: {
        HBNR: {
            name:  '/48012543/NIFTY_PC/COCOLOG/GOOGLENG_FALSE/HBNR',
            range: {width: 728, height: 90},
            id:    'div-gpt-ad-1496639273250-0',
        },
        MRECT: {
            name:  '/48012543/NIFTY_PC/COCOLOG/GOOGLENG_FALSE/MRECT',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496639273250-1'
        },
        M2RECT: {
            name:  '/48012543/NIFTY_PC/COCOLOG/GOOGLENG_FALSE/M2RECT',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496639273250-2'
        },
        FRECT_L: {
            name:  '/48012543/NIFTY_PC/COCOLOG/GOOGLENG_FALSE/FRECT_L',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496639273250-3'
        },
        FRECT_R: {
            name:  '/48012543/NIFTY_PC/COCOLOG/GOOGLENG_FALSE/FRECT_R',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496639273250-4'
        }
    },
    afc: {
        HBNR: {
            name:  '/48012543/NIFTY_PC/COCOLOG/HBNR',
            range: {width: 728, height: 90},
            id:    'div-gpt-ad-1496638582532-0'
        },
        MRECT: {
            name:  '/48012543/NIFTY_PC/COCOLOG/MRECT',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496638582532-1'
        },
        M2RECT: {
            name:  '/48012543/NIFTY_PC/COCOLOG/M2RECT',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496638582532-2'
        },
        FRECT_L: {
            name:  '/48012543/NIFTY_PC/COCOLOG/FRECT_L',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496638582532-3'
        },
        FRECT_R: {
            name:  '/48012543/NIFTY_PC/COCOLOG/FRECT_R',
            range: {width: 300, height: 250},
            id:    'div-gpt-ad-1496638582532-4'
        }
    },
}
}

// pc page's
window.NIFTY.cocolog.pc.pathname = window.location.pathname.split("/");
window.NIFTY.cocolog.pc.is_top = function () {
    return ((window.NIFTY.cocolog.pc.pathname.length === 2) ||
            (window.NIFTY.cocolog.pc.pathname.length <= 3 && (window.NIFTY.cocolog.pc.pathname[2] === 'index.html' || window.NIFTY.cocolog.pc.pathname[2] === '')));
}
window.NIFTY.cocolog.pc.is_individual = function () {
    return (window.NIFTY.cocolog.pc.pathname.length === 5 &&
            window.NIFTY.cocolog.pc.pathname[window.NIFTY.cocolog.pc.pathname.length - 1] !== 'index.html');
}
window.NIFTY.cocolog.pc.is_archives = function () {
    return (window.NIFTY.cocolog.pc.pathname.length === 3 &&
            window.NIFTY.cocolog.pc.pathname[2] === 'archives.html');
}
window.NIFTY.cocolog.pc.is_backnumber = function () {
    return ((window.NIFTY.cocolog.pc.pathname.length >= 5) &&
            (window.NIFTY.cocolog.pc.pathname[4] === 'index.html' ||
             window.NIFTY.cocolog.pc.pathname[5] === 'index.html' ));
}
window.NIFTY.cocolog.pc.is_category = function () {
    return ((window.NIFTY.cocolog.pc.pathname.length === 4) &&
             window.NIFTY.cocolog.pc.pathname[3] === 'index.html');
}
window.NIFTY.cocolog.pc.is_webpage = function () {
    return (! window.NIFTY.cocolog.pc.is_top() &&
            ! window.NIFTY.cocolog.pc.is_archives() &&
            ((window.NIFTY.cocolog.pc.pathname.length === 3) && (window.NIFTY.cocolog.pc.pathname[2] !== 'index.html')));
}

// set ad tags
// afc or not_afc
window.NIFTY.cocolog.ad.afc_kind = '';
if (window.NIFTY.cocolog.ad.googleflag) {
    window.NIFTY.cocolog.ad.choice = window.NIFTY.cocolog.ad.define.afc;
} else {
    window.NIFTY.cocolog.ad.choice = window.NIFTY.cocolog.ad.define.not_afc;
}

window.NIFTY.cocolog.ad.settings = [];
if (window.NIFTY.cocolog.pc.is_top() ||
    window.NIFTY.cocolog.pc.is_webpage() ||
    window.NIFTY.cocolog.pc.is_backnumber() ||
    window.NIFTY.cocolog.pc.is_category()
){
    window.NIFTY.cocolog.ad.settings = [
        window.NIFTY.cocolog.ad.choice.HBNR,
        window.NIFTY.cocolog.ad.choice.MRECT,
        window.NIFTY.cocolog.ad.choice.FRECT_L,
        window.NIFTY.cocolog.ad.choice.FRECT_R
    ];

} else if (window.NIFTY.cocolog.pc.is_individual()) {
    window.NIFTY.cocolog.ad.settings = [
        window.NIFTY.cocolog.ad.choice.HBNR,
        window.NIFTY.cocolog.ad.choice.MRECT,
        window.NIFTY.cocolog.ad.choice.M2RECT,
        window.NIFTY.cocolog.ad.choice.FRECT_L,
        window.NIFTY.cocolog.ad.choice.FRECT_R
    ];

} else if (window.NIFTY.cocolog.pc.is_archives()) {
    window.NIFTY.cocolog.ad.settings = [
        window.NIFTY.cocolog.ad.choice.HBNR,
        window.NIFTY.cocolog.ad.choice.FRECT_L,
        window.NIFTY.cocolog.ad.choice.FRECT_R
    ];
} else {
}


// load ad DFP define's
googletag.cmd.push(function() {
    for(var i = 0; i < window.NIFTY.cocolog.ad.settings.length; i ++ ) {
        googletag.defineSlot(
            window.NIFTY.cocolog.ad.settings[i].name,
            [window.NIFTY.cocolog.ad.settings[i].range.width,
             window.NIFTY.cocolog.ad.settings[i].range.height],
            window.NIFTY.cocolog.ad.settings[i].id
        ).addService(googletag.pubads());
    }
    googletag.pubads().enableSingleRequest();
    googletag.enableServices();
});

